var selectionArray = [];
var removedCount = 0;
var lotVariantNumber = getParameterByName("v");

$(function() {
	
	$("#nav-bar-PACKAGE-LOT-SEARCH").on("click", function() {
		$("#frameMain").attr("src", "lotsearch.html");
	});
	
	$("#nav-bar-PACKAGES-PACKAGES-NEWLOT").on("click", function() {		
		lotVariantNumber !== null ? $("#frameMain").attr("src", "createlot_v" + lotVariantNumber + ".html") : $("#frameMain").attr("src", "createlot_v1.html");
	});
	
	$("#btnSaveLot").on("click" , function() {
		$("#Modal, #saveLotPanel").removeClass("displayNone");
		$("#confirm-lottitle").html($("#lotTitle input").val());
		$("#confirm-lotnumber").html($("#lotNumber input").val());
	});
	
	$("#btnSaveLot #ConfirmClose").on("click" , function() {
		//$("#Modal, #savePackagePanel").addClass("displayNone");
		document.location = "lotsearch.html";
		return false;		
	});
	
	$('#selectReviewers').selectize({
		plugins: ['remove_button', 'selectable_placeholder'],
		options: [{"name":"Patrick Leary"},{"name":"Rita Waller"},{"name":"Snow Pittman"},{"name":"June Mendoza"},{"name":"Mcmillan Harper"},{"name":"Lucy Maddox"},{"name":"Arnold Cohen"},{"name":"Beach Ruiz"},{"name":"Dianna Wright"},{"name":"Wilcox Murphy"},{"name":"Mia Gray"},{"name":"Deena Madden"},{"name":"Curry Collins"},{"name":"Newman Vargas"},{"name":"Desiree Lowery"},{"name":"Neva Landry"},{"name":"Nanette Stevenson"},{"name":"Myers Tanner"},{"name":"Hobbs Vaughn"},{"name":"Lucile Avila"},{"name":"Beard Anderson"},{"name":"Langley Vincent"},{"name":"Marla Cervantes"},{"name":"Harper Wong"},{"name":"Greer Santana"},{"name":"Crystal Berg"},{"name":"Stacie Boone"},{"name":"Albert Bond"},{"name":"Noel Crawford"},{"name":"Fran Carlson"},{"name":"Whitney Webster"},{"name":"Buchanan Morin"},{"name":"Savannah Robles"},{"name":"Ryan Jensen"},{"name":"Jayne Petty"},{"name":"Villarreal Calderon"},{"name":"Stark Valdez"},{"name":"Enid Aguirre"},{"name":"Tucker Lloyd"},{"name":"Fowler Hardy"},{"name":"Bentley Alexander"},{"name":"Claudia Pacheco"},{"name":"Clarke Russell"},{"name":"Effie Valenzuela"},{"name":"Nicole Hodge"},{"name":"Lacey Atkins"},{"name":"Davis Ramos"},{"name":"Margie Spence"},{"name":"Gallagher Gibbs"},{"name":"Lolita Workman"},{"name":"Strong Sloan"},{"name":"Branch Cain"},{"name":"Rhoda Solomon"},{"name":"Amalia Mckee"},{"name":"Vinson Erickson"},{"name":"Skinner Rich"},{"name":"Ilene Osborne"},{"name":"Clark Reilly"},{"name":"Cabrera York"},{"name":"Heath Morales"},{"name":"Bender Pierce"},{"name":"Leta Lee"},{"name":"Gail May"},{"name":"Jessie Velez"},{"name":"Gates Henderson"},{"name":"Kasey Golden"},{"name":"Allison Downs"},{"name":"Valarie Frost"},{"name":"Merritt Nielsen"},{"name":"Norman Nixon"},{"name":"Goff Skinner"},{"name":"Craft Wallace"},{"name":"Willa Preston"},{"name":"Kim Merritt"},{"name":"Chang Roberson"},{"name":"Evangeline Schultz"},{"name":"Margaret Conrad"},{"name":"Hoover Paul"},{"name":"Darla Bradford"},{"name":"Jillian Head"},{"name":"Santos Salazar"},{"name":"Debbie Leonard"},{"name":"Sampson Bryan"},{"name":"Nelda Rivas"},{"name":"Corinne Bailey"},{"name":"Jessica Alvarado"},{"name":"Lea Cotton"},{"name":"Wilda Lane"},{"name":"Byers Hernandez"},{"name":"Aimee Atkinson"},{"name":"Walters Craig"},{"name":"Erika Mcdonald"},{"name":"Kent Woodard"},{"name":"Shauna Dodson"},{"name":"Bradford Bullock"},{"name":"Wynn Santiago"},{"name":"Aileen Rosario"},{"name":"Lorie Perkins"},{"name":"Katelyn Sparks"},{"name":"Perez Moody"},{"name":"Rodgers Villarreal"},{"name":"Margarita Jordan"},{"name":"Frederick Shepherd"},{"name":"Padilla Watson"},{"name":"Marcia Garrison"},{"name":"Leonor Estrada"},{"name":"Katherine Camacho"},{"name":"Lewis Wood"},{"name":"Rivera Barr"},{"name":"Dena Conner"},{"name":"Cruz Hopper"},{"name":"Ortega Prince"},{"name":"Ratliff Myers"},{"name":"Fay Foster"},{"name":"Booker Matthews"},{"name":"Little Whitaker"},{"name":"Burris Freeman"},{"name":"Chris Munoz"},{"name":"Wiley Rogers"},{"name":"Louella Kidd"},{"name":"Charlene Joyner"},{"name":"Farley Sanders"},{"name":"Lorraine Kim"},{"name":"Cecilia Holder"},{"name":"Rios Saunders"},{"name":"Floyd Blevins"},{"name":"Sadie Morgan"},{"name":"Colon Graham"},{"name":"Diane Frank"},{"name":"Sherry Rose"},{"name":"Aurora Bean"},{"name":"Reba Ray"},{"name":"Christian Medina"},{"name":"Leslie Taylor"},{"name":"Bishop Humphrey"},{"name":"Morris Shannon"},{"name":"Katrina Callahan"},{"name":"Haynes Greer"},{"name":"Roth Rivera"},{"name":"Haley Benson"},{"name":"Priscilla Cortez"},{"name":"Henson Lara"},{"name":"Latoya Scott"},{"name":"Adriana Espinoza"},{"name":"Webster Potts"},{"name":"Carey Wilson"},{"name":"Elma Norris"},{"name":"Wong Gay"},{"name":"Love Castillo"},{"name":"Gross Cantrell"},{"name":"Vincent Mcfarland"},{"name":"Bernard Coffey"},{"name":"Jeri Brock"},{"name":"Hinton Sullivan"},{"name":"Randall Conley"},{"name":"Hamilton Pugh"},{"name":"Nichols White"},{"name":"Lorrie Butler"},{"name":"Robertson James"},{"name":"Ramsey Blair"},{"name":"Suzette Gates"},{"name":"Joyce Owen"},{"name":"Kirsten Little"},{"name":"Amelia Booth"},{"name":"Sherman Park"},{"name":"Bowman Velasquez"},{"name":"Matilda Mcconnell"},{"name":"Jolene Blackwell"},{"name":"Jane Hickman"},{"name":"Ericka Forbes"},{"name":"Maggie Vazquez"},{"name":"Sherrie Moss"},{"name":"Wilson Hess"},{"name":"Harris Montoya"},{"name":"Maxine Mann"},{"name":"Wanda Decker"},{"name":"Wilma Reid"},{"name":"Marcy Harrington"},{"name":"Kendra Irwin"},{"name":"Gilda Dudley"},{"name":"Kathryn Mclean"},{"name":"Ada Buck"},{"name":"Crosby Ortega"},{"name":"Walker Davis"},{"name":"Travis Barton"},{"name":"Luisa Baxter"},{"name":"Madden Cardenas"},{"name":"Harriet Ewing"},{"name":"Deborah Calhoun"},{"name":"Ines Hawkins"},{"name":"Steele Carney"},{"name":"Valerie Page"},{"name":"Socorro Kane"},{"name":"Beasley Dalton"},{"name":"Jeanie Barber"},{"name":"Luella Sutton"},{"name":"Frazier Whitehead"},{"name":"Mckenzie Schmidt"},{"name":"Lauri Rosales"},{"name":"Bianca Gallagher"},{"name":"Bridget Powers"},{"name":"Kitty Eaton"},{"name":"Rogers Harmon"},{"name":"Francesca Fuller"},{"name":"Quinn Tillman"},{"name":"Walter Mayo"},{"name":"Amanda Patel"},{"name":"Ellis Leon"},{"name":"Lynette Hester"},{"name":"Anthony Morrison"},{"name":"Lucille Carver"},{"name":"Katie Phillips"},{"name":"Saundra Hewitt"},{"name":"Wendi Roman"},{"name":"Lenora Moon"},{"name":"Burnett Blake"},{"name":"Russo Holcomb"},{"name":"Queen Murray"},{"name":"Petty Barrera"},{"name":"Jarvis Holland"},{"name":"Waters Quinn"},{"name":"Schroeder Dominguez"},{"name":"Herminia Harrell"},{"name":"Murphy Gentry"},{"name":"Long Hurst"},{"name":"Johanna Lawrence"},{"name":"Toni Mcguire"},{"name":"Colleen Cox"},{"name":"Mcclure Bowman"},{"name":"Aguirre Woodward"},{"name":"Wilkerson Oneill"},{"name":"Alicia Robbins"},{"name":"Kristie Orr"},{"name":"Hopkins Day"},{"name":"Noelle Bruce"},{"name":"Rowe Miranda"},{"name":"Pauline Riley"},{"name":"Hull Kaufman"},{"name":"Laurie Kemp"},{"name":"Jeanine Hicks"},{"name":"Harriett Hahn"},{"name":"Welch Knowles"},{"name":"Abby Acosta"},{"name":"Castaneda Stone"},{"name":"Guadalupe Ferguson"},{"name":"Geraldine Roberts"},{"name":"Lina Boyle"},{"name":"Stephenson Cooke"},{"name":"Thomas Whitfield"},{"name":"Luz Ellis"},{"name":"Ola Rosa"},{"name":"Casey Pruitt"},{"name":"Amie Morse"},{"name":"Garrison Mcgowan"},{"name":"Stewart Langley"}],
	    maxItems: null,
	    valueField: 'name',
	    labelField: 'name',
	    searchField: ['name'],
	    openOnFocus: false,
	    closeAfterSelect: true,
	    render: {
	        item: function(item, escape) {
	            return '<div>' +
	                (item.name ? '<span class="name">' + escape(item.name) + '</span>' : '') +
	            '</div>';
	        },
	        option: function(item, escape) {
	            var label = item.name;
	            return '<div>' +
	                '<span class="label">' + escape(label) + '</span>' +
	            '</div>';
	        }
	    }
	});
	
	$('#selectActivityType').selectize({
		plugins: ['remove_button', 'selectable_placeholder'],
		options: [ {"name":"Bridges > Approach Slab"}, {"name":"Bridges > Bridge Beam/Girder Erection"}, {"name":"Bridges > In-situ Concrete Beams"}, {"name":"Bridges > Backfill Around Structures"}, {"name":"Bridges > Placement of Blinding Concrete"}, {"name":"Bridges > Bridge Drainage"}, {"name":"Bridges > Cast in-situ Concrete Column/Piers"}, {"name":"Bridges > Cintec Anchor Installation"}, {"name":"Bridges > Concrete Works Balanced Cantilever"}, {"name":"Bridges > Concrete Curing"}, {"name":"Bridges > Cast in-situ Bridge Deck"}, {"name":"Bridges > Erection/Installation of Minor Steel Items"}, {"name":"Bridges > Erection of Arch Units"}, {"name":"Bridges > Erection of Girders / Planks"}, {"name":"Bridges > Erection of Precast Parapets"}, {"name":"Bridges > Erection of Structures and Components"}, {"name":"Bridges > Erection of Structural Steel "}, {"name":"Bridges > Fabrication of Structural Steel"}, {"name":"Bridges > Fabrication of Minor Steel Items (E.g. Bridge Furniture, Platforms, Stairways, etc)"}, {"name":"Bridges > Footpath and Barrier Construction"}, {"name":"Bridges > Handrails"}, {"name":"Bridges > Bridge Headstocks"}, {"name":"Bridges > Installation of Bridge Bearings and Mortar Pads"}, {"name":"Bridges > Installation of Expansion Joints"}, {"name":"Bridges > Insitu Concrete"}, {"name":"Bridges > Installation of Steelwork"}, {"name":"Bridges > Install Waterproof Membrane (Bridge de-bonding)"}, {"name":"Bridges > Insitu Concrete Parapets"}, {"name":"Bridges > Installation of Throw Screens"}, {"name":"Bridges > Manufacture of Precast Bridge Elements (E.g. parapets, pile caps, columns, piers, headstocks)"}, {"name":"Bridges > Pile Cap"}, {"name":"Bridges > Pedestals and Bearings"}, {"name":"Bridges > Post Tensioning"}, {"name":"Bridges > Parapet Joint Sealing "}, {"name":"Bridges > Protective and Decorative Coating"}, {"name":"Bridges > Pre-Cast Structural Concrete Manufacture & Installation"}, {"name":"Bridges > Prestressing"}, {"name":"Bridges > Reinforcement Supply & Fixing"}, {"name":"Bridges > Rock Facing (Pitching)"}, {"name":"Bridges > Reinforced Concrete Parapet Installation"}, {"name":"Bridges > Shotcreting"}, {"name":"Bridges > Cast in-situ Concrete Slab"}, {"name":"Bridges > Weep Hole Drilling"}, {"name":"Data & Communication > Cables"}, {"name":"Data & Communication > Cable Ladder Installation"}, {"name":"Data & Communication > Cable Pulling"}, {"name":"Data & Communication > Cable supports"}, {"name":"Data & Communication > Cable Supply"}, {"name":"Data & Communication > Installation of CCTV"}, {"name":"Data & Communication > Data Cabling"}, {"name":"Data & Communication > Communication & Data Commissioning"}, {"name":"Data & Communication > Installation of Buried Duct Route"}, {"name":"Data & Communication > Install Cables and Wiring"}, {"name":"Data & Communication > Installation of Conduits"}, {"name":"Data & Communication > Installation of Draw Pits"}, {"name":"Data & Communication > Installation of Emergency Telephones"}, {"name":"Data & Communication > Installation of Field Cabinet "}, {"name":"Data & Communication > Installation of Fibre Optic Cable"}, {"name":"Data & Communication > Installation of signal and communication cables "}, {"name":"Data & Communication > Installation of Trenchless Ducts"}, {"name":"Data & Communication > Installation of Temporary Pipes/Conduits"}, {"name":"Data & Communication > Switchboard Installation"}, {"name":"Data & Communication > Switchboard Supply"}, {"name":"Data & Communication > Switchboard Supply & Installation"}, {"name":"Data & Communication > New Telecommunication Services"}, {"name":"Data & Communication > Relocate Telecommunication Services"}, {"name":"Data & Communication > Test and Energise"}, {"name":"Data & Communication > Security System"}, {"name":"Drainage > Backfill and Compact"}, {"name":"Drainage > Backfill Around Structures"}, {"name":"Drainage > Placement of Blinding Concrete"}, {"name":"Drainage > Catch Drains Lined"}, {"name":"Drainage > Catch Drains Unlined"}, {"name":"Drainage > Cess Drains"}, {"name":"Drainage > Concrete Batter Shutes"}, {"name":"Drainage > Concrete Supply & Install"}, {"name":"Drainage > Concrete Supply only"}, {"name":"Drainage > Cast in-situ Pit/Headwall"}, {"name":"Drainage > Concrete Curing"}, {"name":"Drainage > Concrete Cutting"}, {"name":"Drainage > Drainage Concrete Works above 1.8m High"}, {"name":"Drainage > Drainage Concrete Works under 1.8m High"}, {"name":"Drainage > Drain (Transverse & Longitudinal)"}, {"name":"Drainage > Drainage Material"}, {"name":"Drainage > Drainage"}, {"name":"Drainage > Edge Drains"}, {"name":"Drainage > Floodgates"}, {"name":"Drainage > General Metalwork"}, {"name":"Drainage > Insitu Concrete Drainage Structure"}, {"name":"Drainage > Insitu Concrete"}, {"name":"Drainage > Intra Pavement Drainage"}, {"name":"Drainage > Insitu Reinforced Concrete"}, {"name":"Drainage > Kerb and Channel"}, {"name":"Drainage > Kerb and Gutter - Hand Placed"}, {"name":"Drainage > Kerb and Gutter No Fines"}, {"name":"Drainage > Kerb and Gutter - Slipform"}, {"name":"Drainage > Longitudinal Pipe Culverts"}, {"name":"Drainage > Open Drains Concrete Lined"}, {"name":"Drainage > Open Drains Vegetated"}, {"name":"Drainage > Precast Concrete Drainage Structure"}, {"name":"Drainage > Pre-cast Pits / Headwalls Installation"}, {"name":"Drainage > Precast Concrete Supply & Install"}, {"name":"Drainage > Pavement Drainage - Pipe Culverts"}, {"name":"Drainage > Pit Completion"}, {"name":"Drainage > Pipes and Valves"}, {"name":"Drainage > Reinforced Concrete Box Culvert Installation"}, {"name":"Drainage > Reinforced Concrete Pipe Installation"}, {"name":"Drainage > Reinforcement Supply & Fixing"}, {"name":"Drainage > Rock Facing (Pitching)"}, {"name":"Drainage > Sediment Basin"}, {"name":"Drainage > Sewer Drainage"}, {"name":"Drainage > Shoring"}, {"name":"Drainage > Cast in-situ Concrete Slab"}, {"name":"Drainage > Sub-Soil Drains"}, {"name":"Drainage > Stormwater Drainage"}, {"name":"Drainage > Swale Drains"}, {"name":"Drainage > Syphonic Drainage"}, {"name":"Drainage > Transverse Pipe Culverts"}, {"name":"Drainage > Trench Drains"}, {"name":"Drainage > Herring Bone Drains"}, {"name":"Electrical > Cables"}, {"name":"Electrical > Cable Ladder Installation "}, {"name":"Electrical > Cable Pulling "}, {"name":"Electrical > Cable supports"}, {"name":"Electrical > Cable Supply"}, {"name":"Electrical > Commissioning - Electrical and Communications"}, {"name":"Electrical > New Electricity Services "}, {"name":"Electrical > Relocate Electricity Services "}, {"name":"Electrical > Emergency Power Generators"}, {"name":"Electrical > Erection of Street Light Poles and Luminaries"}, {"name":"Electrical > F.F. & E. Electrical Products"}, {"name":"Electrical > HV Transformer installation"}, {"name":"Electrical > Installation of Buried Duct Route"}, {"name":"Electrical > Installation of Conduits"}, {"name":"Electrical > Installation of Draw Pits"}, {"name":"Electrical > Installation of Field Cabinet "}, {"name":"Electrical > Installation of Light Fittings"}, {"name":"Electrical > Install Appliances"}, {"name":"Electrical > Installation of Trenchless Ducts"}, {"name":"Electrical > Installation of Temporary Pipes/Conduits"}, {"name":"Electrical > Installation of Traffic Lights"}, {"name":"Electrical > Light Commissioning"}, {"name":"Electrical > Light Poles"}, {"name":"Electrical > LV Cable Installation"}, {"name":"Electrical > LV Transformer installation"}, {"name":"Electrical > Neon Lighting"}, {"name":"Electrical > Padmount Substation Installation"}, {"name":"Electrical > Power Equipment Supply and Install"}, {"name":"Electrical > Photovoltaic Systems"}, {"name":"Electrical > Photometer"}, {"name":"Electrical > Padmount Enclosure"}, {"name":"Electrical > Switchboard Installation"}, {"name":"Electrical > Switchboard Supply"}, {"name":"Electrical > Switchboard Supply & Installation"}, {"name":"Electrical > Street Lighting Foundation and Footings"}, {"name":"Electrical > Traffic Light Foundations and Footings"}, {"name":"Electrical > Test and Energise"}, {"name":"Electrical > Uninterrupted Power Systems "}, {"name":"Environment > Air Quality Monitoring"}, {"name":"Environment > Acid Sulphate Soil Treatment"}, {"name":"Environment > Contaminated Land Remediation"}, {"name":"Environment > Dewatering"}, {"name":"Environment > Noise Monitoring"}, {"name":"Environment > Sediment Basin"}, {"name":"Environment > Sedimentation Control"}, {"name":"Environment > Water Quality Monitoring"}, {"name":"Environment > Weed Eradication"}, {"name":"Earthworks > Clear and Grub"}, {"name":"Earthworks > Crushing of site won materials"}, {"name":"Earthworks > Cut to Fill Transition"}, {"name":"Earthworks > Dewatering"}, {"name":"Earthworks > Diaphragm Walls"}, {"name":"Earthworks > Drainage Blankets"}, {"name":"Earthworks > Drilling and Blasting "}, {"name":"Earthworks > Dredging"}, {"name":"Earthworks > Dynamic Compaction"}, {"name":"Earthworks > Excavation Cut - Tunnel "}, {"name":"Earthworks > Excavation Cut - Tunnel Ramp"}, {"name":"Earthworks > Excavation Cut - Tunnel Sump"}, {"name":"Earthworks > Earthworks Cut"}, {"name":"Earthworks > Excavation Cut - Design Floor Level"}, {"name":"Earthworks > Embankment Capping Layer"}, {"name":"Earthworks > Embankment General Fill"}, {"name":"Earthworks > Earth Mound Noise Wall "}, {"name":"Earthworks > Embankment Structural Fill 1"}, {"name":"Earthworks > Embankment Structural Fill 2"}, {"name":"Earthworks > General Excavation"}, {"name":"Earthworks > Four Corner Rolling"}, {"name":"Earthworks > Foundation, Excavation & Backfill"}, {"name":"Earthworks > Foundation Stabilization"}, {"name":"Earthworks > Foundation Treatment Cutting"}, {"name":"Earthworks > Foundation Treatment Embankment"}, {"name":"Earthworks > Installation of Batter Protection Panels"}, {"name":"Earthworks > Installation of Soil Nails "}, {"name":"Earthworks > Low Embankment Strategy"}, {"name":"Earthworks > Levee Bank"}, {"name":"Earthworks > Rock Bolting / Ground Anchors"}, {"name":"Earthworks > Rock Bolt / Ground Anchor Installation"}, {"name":"Earthworks > Rock Bolt / Ground Anchor Procurement"}, {"name":"Earthworks > Rock Bolt / Ground Anchors Grout Mix Design"}, {"name":"Earthworks > Rock Fill"}, {"name":"Earthworks > Select Material Zone"}, {"name":"Earthworks > Stabilisation of Earthwork"}, {"name":"Earthworks > Site Won Material Stockpiles and Approvals"}, {"name":"Earthworks > Trim Batters"}, {"name":"Earthworks > Topsoil Stripping"}, {"name":"Earthworks > Topsoil Placement"}, {"name":"Earthworks > Upper Zone Fill"}, {"name":"Fencing > Boom Fences"}, {"name":"Fencing > Cattle Grid Installation "}, {"name":"Fencing > Chain Wire Fencing"}, {"name":"Fencing > Enhanced Urban Fencing"}, {"name":"Fencing > Fauna Fencing"}, {"name":"Fencing > Metal Fences"}, {"name":"Fencing > Manproof Fencing "}, {"name":"Fencing > Pinelap Fencing"}, {"name":"Fencing > Palisade Fencing"}, {"name":"Fencing > Property Fencing"}, {"name":"Fencing > Stock Proof Fencing"}, {"name":"Fencing > Temporary Fencing"}, {"name":"Fencing > Timber Fences"}, {"name":"Fencing > Vortok Fencing"}, {"name":"Fencing > Works fencing"}, {"name":"Fire Systems > Dry Fire System Installation"}, {"name":"Fire Systems > Fire Hydrants, Extinguishers & Equipment"}, {"name":"Fire Systems > Tunnel Fire Protection - Water Distribution"}, {"name":"Fire Systems > Tunnel Fire Protection - Water Supply"}, {"name":"Fire Systems > Installation of Automatic Fire Suppression"}, {"name":"Fire Systems > Installation of Fire Pumps"}, {"name":"Fire Systems > Installation of Fire System Pipework"}, {"name":"Fire Systems > Tunnel Closure System"}, {"name":"Fire Systems > Tunnel Emergency Equipment Cabinets"}, {"name":"Fire Systems > Tunnel Fire Detection"}, {"name":"Fire Systems > Tunnel Fire Protection - Deluge"}, {"name":"Flexible Pavements > Dense Graded Asphalt - AC10"}, {"name":"Flexible Pavements > Dense Graded Asphalt - AC14"}, {"name":"Flexible Pavements > Dense Graded Asphalt - AC20"}, {"name":"Flexible Pavements > Asphalt/Seal Mix Design Approval "}, {"name":"Flexible Pavements > Asphalt Paving"}, {"name":"Flexible Pavements > Bound Fexible Pavement"}, {"name":"Flexible Pavements > Construction Working Platforms"}, {"name":"Flexible Pavements > Dense Grade Base"}, {"name":"Flexible Pavements > Dense Grade Sub-Base"}, {"name":"Flexible Pavements > Flexible Base"}, {"name":"Flexible Pavements > Flexible Sub-Base"}, {"name":"Flexible Pavements > Line Marking"}, {"name":"Flexible Pavements > Open Grade Asphalt - OG14"}, {"name":"Flexible Pavements > Dense Graded Asphalt with A15E Binder"}, {"name":"Flexible Pavements > Primer Seal"}, {"name":"Flexible Pavements > Pavement Marking "}, {"name":"Flexible Pavements > Raised Pavement Markers"}, {"name":"Flexible Pavements > Stone Mastic Asphalt"}, {"name":"Flexible Pavements > Sprayed Seal"}, {"name":"Flexible Pavements > Unbound Flexible Pavement"}, {"name":"Finishing Works > Application of Granosite"}, {"name":"Finishing Works > Anti Graffiti Painting"}, {"name":"Finishing Works > Cattle Grid Installation "}, {"name":"Finishing Works > Crash Attenuators"}, {"name":"Finishing Works > Footpaths and Pram Ramps"}, {"name":"Finishing Works > Footpath and Barrier Construction"}, {"name":"Finishing Works > Grouting Concrete Joints and Cracks"}, {"name":"Finishing Works > Guide Posts"}, {"name":"Finishing Works > Guard Rail Safety Barrier"}, {"name":"Finishing Works > Kerb and Channel"}, {"name":"Finishing Works > Kerb and Gutter - Hand Placed"}, {"name":"Finishing Works > Kerb and Gutter No Fines"}, {"name":"Finishing Works > Kerb and Gutter - Slipform"}, {"name":"Finishing Works > Other Finish"}, {"name":"Finishing Works > Application of Protective Coating"}, {"name":"Finishing Works > Street Furniture"}, {"name":"Finishing Works > Wire Rope Safety Barrier"}, {"name":"Intelligent Transport System > Installation of Boom Gates"}, {"name":"Intelligent Transport System > Cables"}, {"name":"Intelligent Transport System > Cable Pulling "}, {"name":"Intelligent Transport System > Cable Supply"}, {"name":"Intelligent Transport System > Installation of CCTV"}, {"name":"Intelligent Transport System > Data Cabling"}, {"name":"Intelligent Transport System > Installation of Buried Duct Route"}, {"name":"Intelligent Transport System > Install Cables and Wiring"}, {"name":"Intelligent Transport System > Commissioning - Intelligent Transport System (ITS)"}, {"name":"Intelligent Transport System > Installation of Conduits"}, {"name":"Intelligent Transport System > Installation of Draw Pits"}, {"name":"Intelligent Transport System > Installation of Field Cabinet "}, {"name":"Intelligent Transport System > Installation of Fibre Optic Cable"}, {"name":"Intelligent Transport System > Installation of signal and communication cables "}, {"name":"Intelligent Transport System > Installation of Swing Gates"}, {"name":"Intelligent Transport System > ITS Cabinets"}, {"name":"Intelligent Transport System > Installation of Traffic Lights"}, {"name":"Intelligent Transport System > Installation of Vehicle Barrier Arms"}, {"name":"Intelligent Transport System > Installation of Variable Message Boards"}, {"name":"Intelligent Transport System > Installation of Loop Detectors"}, {"name":"Intelligent Transport System > Lane Usage Signs"}, {"name":"Intelligent Transport System > Installation of Microwave Radio System"}, {"name":"Intelligent Transport System > Installation of Overheight Vehicle Detectors"}, {"name":"Intelligent Transport System > Radio Interference Screening"}, {"name":"Intelligent Transport System > Installation of Radio Rebroadcast System"}, {"name":"Intelligent Transport System > Security System"}, {"name":"Intelligent Transport System > Signalling Removals"}, {"name":"Intelligent Transport System > Tunnel Closure System"}, {"name":"Intelligent Transport System > Tunnel Emergency Equipment Cabinets"}, {"name":"Intelligent Transport System > Traffic Light Foundations and Footings"}, {"name":"Intelligent Transport System > Tunnel Message Signs"}, {"name":"Intelligent Transport System > Uninterrupted Power Systems "}, {"name":"Intelligent Transport System > Variable Message Signs"}, {"name":"Intelligent Transport System > Variable Speed Limit Signs"}, {"name":"Lighting> Cables"}, {"name":"Lighting> Cable Ladder Installation "}, {"name":"Lighting> Cable Pulling "}, {"name":"Lighting> Cable Supply"}, {"name":"Lighting> Emergency Lighting"}, {"name":"Lighting> Erection of Street Light Poles and Luminaries"}, {"name":"Lighting> Installation of Buried Duct Route"}, {"name":"Lighting> Install Cables and Wiring"}, {"name":"Lighting> Installation of Conduits"}, {"name":"Lighting> Installation of Draw Pits"}, {"name":"Lighting> Installation of Field Cabinet "}, {"name":"Lighting> Installation of Light Fittings"}, {"name":"Lighting> Commissioning - Lighting"}, {"name":"Lighting> Light Poles"}, {"name":"Lighting> Photovoltaic Systems"}, {"name":"Lighting> Photometer"}, {"name":"Lighting> Switchboard Installation"}, {"name":"Lighting> Switchboard Supply"}, {"name":"Lighting> Switchboard Supply & Installation"}, {"name":"Lighting> Street Lighting Foundation and Footings"}, {"name":"Lighting> Test and Energise"}, {"name":"Landscaping > Bush Regeneration"}, {"name":"Landscaping > Graveling"}, {"name":"Landscaping > Hydromulching"}, {"name":"Landscaping > Hydroseeding "}, {"name":"Landscaping > Irrigation/Lawn watering"}, {"name":"Landscaping > Landscaping and Planting"}, {"name":"Landscaping > Plant Propagation"}, {"name":"Landscaping > Seed Collection"}, {"name":"Landscaping > Seed Collection"}, {"name":"Landscaping > Themescapes"}, {"name":"Landscaping > Topsoil Placement"}, {"name":"Landscaping > Weed Eradication"}, {"name":"Landscaping > Walking Track"}, {"name":"Landscaping > Walking Track"}, {"name":"Mechanical > Installation of Boom Gates"}, {"name":"Mechanical > Emergency Power Generators"}, {"name":"Mechanical > Cables"}, {"name":"Mechanical > Cable Ladder Installation "}, {"name":"Mechanical > Cable Pulling "}, {"name":"Mechanical > Cable supports"}, {"name":"Mechanical > Cable Supply"}, {"name":"Mechanical > Fuel Oil Equip & Installations"}, {"name":"Mechanical > Install Cables and Wiring"}, {"name":"Mechanical > Installation of Jet Fans "}, {"name":"Mechanical > Installation of Swing Gates"}, {"name":"Mechanical > Commissioning - Mechanical"}, {"name":"Mechanical > Switchboard Installation"}, {"name":"Mechanical > Switchboard Supply"}, {"name":"Mechanical > Switchboard Supply & Installation"}, {"name":"Mechanical > Installation of Sump Pumps"}, {"name":"Mechanical > Weighbridges"}, {"name":"Noise Wall > Anti Graffiti Painting"}, {"name":"Noise Wall > Earth Mound Noise Wall "}, {"name":"Noise Wall > Insitu Concrete"}, {"name":"Noise Wall > Install Panels"}, {"name":"Noise Wall > Install Noise Wall - Hebel"}, {"name":"Noise Wall > Install Noise Wall (E.g. Concrete Panels, Wood Panels, Steel Panel)"}, {"name":"Noise Wall > Insitu Reinforced Concrete"}, {"name":"Noise Wall > Manufacture Pre-Cast RC Panel "}, {"name":"Noise Wall > Noise Wall Foundation and Footing"}, {"name":"Noise Wall > Application of Paint"}, {"name":"Noise Wall > Application of Protective Coating"}, {"name":"Noise Wall > Protective and Decorative Coating"}, {"name":"Noise Wall > Prefabricated Panels"}, {"name":"Noise Wall > Cast in-situ Concrete Walls"}, {"name":"Noise Wall > Erection/Installation of Minor Steel Items"}, {"name":"Noise Wall > Erection of Structural Steel "}, {"name":"Noise Wall > Fabrication of Structural Steel "}, {"name":"Precast Concrete > Box Culvert precast manufacture"}, {"name":"Precast Concrete > Precast Concrete Manufacture"}, {"name":"Precast Concrete > Manufacture Reinforced Concrete Underpass Wall"}, {"name":"Precast Concrete > Manufacture Reinforced Concrete Wing Wall"}, {"name":"Precast Concrete > Manufacturing of Arch Units"}, {"name":"Precast Concrete > Manufacturing of Girders / Planks"}, {"name":"Precast Concrete > Manufacture Parapets"}, {"name":"Precast Concrete > Manufacture Pre-Cast RC Panel "}, {"name":"Precast Concrete > Manufacture of Precast Bridge Elements (E.g. parapets, pile caps, columns, piers, headstocks)"}, {"name":"Precast Concrete > Manufacture Prestress Planks"}, {"name":"Precast Concrete > Manufacture Prestress Super T"}, {"name":"Precast Concrete > Manufacture Retaining Wall Panels"}, {"name":"Precast Concrete > Precast Concrete Drainage Structure"}, {"name":"Precast Concrete > Precast Concrete Supply & Install"}, {"name":"Precast Concrete > Precast Fascia Panels"}, {"name":"Precast Concrete > Pre-Cast Structural Concrete Manufacture & Installation"}, {"name":"Precast Concrete > Precast Transition Link Slab"}, {"name":"Precast Concrete > Reinforced Concrete Pipe precast manufacture"}, {"name":"Precast Concrete > Reinforcement Supply & Fixing"}, {"name":"Piling > Bored Cast in Place Concrete Piles Temporary Casing"}, {"name":"Piling > Bored Cast in Place Concrete Piles - Permanent Casing"}, {"name":"Piling > Bored Piles"}, {"name":"Piling > Continuous Flight Auger (CFA) Piles"}, {"name":"Piling > Driven Concrete Columns"}, {"name":"Piling > Driven H Section Steel Piles"}, {"name":"Piling > Driven Prestressed Concrete Piles"}, {"name":"Piling > Driven Reinforced Concrete Piles"}, {"name":"Piling > Driven Piles"}, {"name":"Piling > Marine Piling"}, {"name":"Piling > Screw Piles "}, {"name":"Piling > Sheet Piling "}, {"name":"Pipeline > Installation of Ductile Iron Cement Lined Pipe"}, {"name":"Pipeline > HDPE pipe - supply and/or install"}, {"name":"Pipeline > Install RE (Recycled Effluent) Pipeline"}, {"name":"Pipeline > Install Sewer Pipeline"}, {"name":"Pipeline > Install Water Pipeline"}, {"name":"Pipeline > PVC Pipe - supply and/or install"}, {"name":"Pipeline > Supply RE (Recycled Effluent) Pipeline"}, {"name":"Pipeline > Supply Sewer Pipeline"}, {"name":"Pipeline > Supply Water Pipeline"}, {"name":"Pipeline > Under Road Boring"}, {"name":"Preliminary > Access Roads/Tracks"}, {"name":"Preliminary > Asphalt/Seal Mix Design Approval "}, {"name":"Preliminary > Batch Plant Mobilisation/Demobilisation"}, {"name":"Preliminary > Concrete Mix Design Approval"}, {"name":"Preliminary > Demolition"}, {"name":"Preliminary > Dilapidation Surveys Ð Housing"}, {"name":"Preliminary > Dilapidation Surveys Ð Existing Road Systems"}, {"name":"Preliminary > Geotechnical Instrumentation / Monitoring"}, {"name":"Preliminary > Geotechnical Investigation"}, {"name":"Preliminary > Property Adjustments"}, {"name":"Preliminary > Pre-Construction Audits"}, {"name":"Preliminary > Quality Event"}, {"name":"Preliminary > Site Establishment"}, {"name":"Preliminary > Survey"}, {"name":"Preliminary > Site Won Material Stockpiles and Approvals"}, {"name":"Preliminary > Traffic Control"}, {"name":"Preliminary > Traffic Staging"}, {"name":"Preliminary > Welding Qualifications"}, {"name":"Rigid Pavements > Concrete Base, Hand Placed"}, {"name":"Rigid Pavements > Concrete Base, Machine Placed"}, {"name":"Rigid Pavements > Concrete Base Paving Trial"}, {"name":"Rigid Pavements > Concrete Base, Shoulder Hand Placed"}, {"name":"Rigid Pavements > Concrete Base, Shoulder Machine Placed"}, {"name":"Rigid Pavements > Concrete Mix Design Approval"}, {"name":"Rigid Pavements > Concrete Slab Anchors"}, {"name":"Rigid Pavements > Continuous Reinforced Concrete Pavement Hand Placed"}, {"name":"Rigid Pavements > Continuous Reinforced Concrete Pavement Machine Placed"}, {"name":"Rigid Pavements > Continuous Reinforced Concrete Pavement Shoulder"}, {"name":"Rigid Pavements > Concrete Subbase, Hand Placed"}, {"name":"Rigid Pavements > Concrete Subbase, Machine placed"}, {"name":"Rigid Pavements > Concrete Subbase Paving Trial"}, {"name":"Rigid Pavements > Concrete Cutting"}, {"name":"Rigid Pavements > Debonding (LMC)"}, {"name":"Rigid Pavements > Edge Detail / No Fines"}, {"name":"Rigid Pavements > Grouting Concrete Joints and Cracks"}, {"name":"Rigid Pavements > Reo for Continuously Reinforced Concrete Pavement"}, {"name":"Rigid Pavements > Steel Fibre Reinforced Concrete Hand Placed"}, {"name":"Rigid Pavements > Steel Fibre Reinforced Concrete Machine Placed"}, {"name":"Rigid Pavements > Subgrade Beams"}, {"name":"Retaining Walls > Anti Graffiti Painting"}, {"name":"Retaining Walls > Erection/Installation of Minor Steel Items"}, {"name":"Retaining Walls > Erection of Structural Steel "}, {"name":"Retaining Walls > Fabrication of Structural Steel "}, {"name":"Retaining Walls > Gabion Walls & Stone Pitching"}, {"name":"Retaining Walls > Installation of Batter Protection Panels"}, {"name":"Retaining Walls > Insitu Concrete"}, {"name":"Retaining Walls > Install Panels"}, {"name":"Retaining Walls > Installation of Soil Nails"}, {"name":"Retaining Walls > Insitu Reinforced Concrete"}, {"name":"Retaining Walls > Manufacture Retaining Wall Panels"}, {"name":"Retaining Walls > Application of Paint"}, {"name":"Retaining Walls > Application of Protective Coating "}, {"name":"Retaining Walls > Protective and Decorative Coating"}, {"name":"Retaining Walls > Prefabricated Panels"}, {"name":"Retaining Walls > Reinforced Soil Walls"}, {"name":"Retaining Walls > Rock Facing (Pitching)"}, {"name":"Retaining Walls > Retaining Wall Foundation and Footing"}, {"name":"Retaining Walls > Shotcreting"}, {"name":"Retaining Walls > Stonework"}, {"name":"Retaining Walls > Cast in-situ Concrete Walls"}, {"name":"Signage > Fabrication of Sign Faces"}, {"name":"Signage > Fabrication of Strutural Steel Signage "}, {"name":"Signage > Gantry Foundation and Footing"}, {"name":"Signage > Gantry Erection "}, {"name":"Signage > Insitu Concrete"}, {"name":"Signage > Installation of Sign Posting"}, {"name":"Signage > Lane Usage Signs"}, {"name":"Signage > Special Signage Foundation and Footing"}, {"name":"Signage > Special Signage Erection"}, {"name":"Signage > Traffic Signs/ Safety Mirrors"}, {"name":"Signage > Temporary Signage "}, {"name":"Signage > Variable Message Signs"}, {"name":"Structures > Cutter Soil Mixing"}, {"name":"Structures > Dry Deep Soil Mixing"}, {"name":"Structures > Wet Deep Soil Mixing"}, {"name":"Structures > Dynamic Compaction"}, {"name":"Structures > Wick Drains"}, {"name":"Structures > Concrete Injected Columns"}, {"name":"Structures > Dry Stone Columns"}, {"name":"Structures > Geotechnical Instrumentation / Monitoring"}, {"name":"Structures > Four Corner Rolling"}, {"name":"Structures > Light Weight Fill"}, {"name":"Structures > Surcharge Placement"}, {"name":"Structures > Surcharge Removal "}, {"name":"Soft Soil Consolidation > In-situ Concrete Beams"}, {"name":"Soft Soil Consolidation > Placement of Blinding Concrete"}, {"name":"Soft Soil Consolidation > Cast in-situ Concrete Column/Piers"}, {"name":"Soft Soil Consolidation > Concrete Supply & Install"}, {"name":"Soft Soil Consolidation > Concrete Supply only"}, {"name":"Soft Soil Consolidation > Concrete Curing"}, {"name":"Soft Soil Consolidation > Concrete Works above 1.8m High"}, {"name":"Soft Soil Consolidation > Concrete Works under 1.8m High"}, {"name":"Soft Soil Consolidation > Erection of Structures and Components"}, {"name":"Soft Soil Consolidation > Erection of Structural Steel "}, {"name":"Soft Soil Consolidation > Fabrication of Structural Steel "}, {"name":"Soft Soil Consolidation > Footings"}, {"name":"Soft Soil Consolidation > Formwork"}, {"name":"Soft Soil Consolidation > Insitu Concrete"}, {"name":"Soft Soil Consolidation > Insitu Reinforced Concrete"}, {"name":"Soft Soil Consolidation > Reinforcement Supply & Fixing"}, {"name":"Soft Soil Consolidation > Steel Caissons"}, {"name":"Soft Soil Consolidation > Walkways & Platforms"}, {"name":"Tunnelling > Backfill Around Tunnel"}, {"name":"Tunnelling > Placement of Blinding Concrete"}, {"name":"Tunnelling > Barrette Infill Works"}, {"name":"Tunnelling > Central Barrettes"}, {"name":"Tunnelling > Concrete Works Tunnel "}, {"name":"Tunnelling > Dry Fire System Installation "}, {"name":"Tunnelling > Diaphragm Walls"}, {"name":"Tunnelling > Erection of Alpolic"}, {"name":"Tunnelling > Excavation Cut - Tunnel "}, {"name":"Tunnelling > Excavation Cut - Tunnel Ramp"}, {"name":"Tunnelling > Excavation Cut - Tunnel Sump "}, {"name":"Tunnelling > Fire Hydrants, Extinguishers & Equipment"}, {"name":"Tunnelling > Tunnel Fire Protection - Water Distribution"}, {"name":"Tunnelling > Tunnel Fire Protection - Water Supply"}, {"name":"Tunnelling > Fuko Injection "}, {"name":"Tunnelling > Grouting Concrete Joints and Cracks"}, {"name":"Tunnelling > Installation of Automatic Fire Suppression"}, {"name":"Tunnelling > Installation of Fire Pumps"}, {"name":"Tunnelling > Installation of Fire System Pipework"}, {"name":"Tunnelling > Installation of Tunnel Instrumentation"}, {"name":"Tunnelling > Preparation of Diaphragm Walls"}, {"name":"Tunnelling > Rock Bolting / Ground Anchors"}, {"name":"Tunnelling > Rock Bolt / Ground Anchor Installation"}, {"name":"Tunnelling > Rock Bolt / Ground Anchor Procurement"}, {"name":"Tunnelling > Rock Bolt / Ground Anchors Grout Mix Design"}, {"name":"Tunnelling > Tunnel Closure System"}, {"name":"Tunnelling > Tunnel Emergency Equipment Cabinets"}, {"name":"Tunnelling > Tunnel Fire Detection"}, {"name":"Tunnelling > Tunnel Fire Protection - Deluge"}, {"name":"Tunnelling > Tunnel Message Signs"}, {"name":"Tunnelling > Tunnel Washer"}, {"name":"Tunnelling > Installation of Vermitex TH"}, {"name":"Tunnelling > Installation of Tunnel Waterproofing "}, {"name":"Tunnelling > Weep Hole Drilling"}, {"name":"Utilities and Services > New Electricity Services"}, {"name":"Utilities and Services > Relocate Electricity Services"}, {"name":"Utilities and Services > Relocate Gas Services"}, {"name":"Utilities and Services > New Gas Services"}, {"name":"Utilities and Services > Install RE (Recycled Effluent) Pipeline"}, {"name":"Utilities and Services > Install Sewer Pipeline"}, {"name":"Utilities and Services > Install Water Pipeline"}, {"name":"Utilities and Services > Locate Service"}, {"name":"Utilities and Services > PVC Pipe - supply and/or install"}, {"name":"Utilities and Services > Relocate Sewerage Services "}, {"name":"Utilities and Services > New Sewerage Services "}, {"name":"Utilities and Services > Supply RE (Recycled Effluent) Pipeline"}, {"name":"Utilities and Services > New Telecommunication Services"}, {"name":"Utilities and Services > Relocate Telecommunication Services"}, {"name":"Utilities and Services > Install Conduits and Pits for Utilities"}, {"name":"Utilities and Services > New Water Services "}, {"name":"Utilities and Services > Relocate Water Services"} ],
	    maxItems: 1,
	    valueField: 'name',
	    labelField: 'name',
	    searchField: ['name'],
	    openOnFocus: false,
	    closeAfterSelect: true,
	    render: {
	        item: function(item, escape) {
	            return '<div>' +
	                (item.name ? '<span class="name">' + escape(item.name) + '</span>' : '') +
	            '</div>';
	        },
	        option: function(item, escape) {
	            var label = item.name;
	            return '<div>' +
	                '<span class="label">' + escape(label) + '</span>' +
	            '</div>';
	        }
	    }
	});
	
	$("section.content-section h3").on("click" , "span.sub-header-text", function() {
		$(this).closest("section").toggleClass("minimised");
	});
	
	$("#RecordsList").on("change", "input[type='checkbox']", function() {
		var selectedCount = $("#RecordsList").find("input[type='checkbox']:checked").length;
		selectedCount > 0 ? $("#RemoveRecords").removeAttr("disabled") : $("#RemoveRecords").attr("disabled", "disabled");
		$("#RecordsSelectedSummary").html(selectedCount);
	});
	
	$("#RemoveRecords").on("click", function() {
		var recordCount, selectedCount;
		$(this).attr("disabled") !== "disabled" && ($("#RecordsList").find("input[type='checkbox']:checked").parent().remove());
		recordCount = $("#RecordsList").children("div.record-item").length;
		$("#RecordsNumResults").children("b:first").html(recordCount);
		$("#RecordsTotalPill").html(recordCount);
		if(recordCount === 0) {
			$("#RecordsHeader").addClass("displayNone");
			$("#RecordsList").html("<div class='no-items-message'>This Package doesn't contain any records</div>");
		}		
		selectedCount = $("#RecordsList").find("input[type='checkbox']:checked").length;
		selectedCount > 0 ? $("#RemoveRecords").removeAttr("disabled") : $("#RemoveRecords").attr("disabled", "disabled");
		$("#RecordsSelectedSummary").html(selectedCount);
		
		return false;
	});
	
	$("#AddRecordsTop").on("click", function(e) {
		$("#AddRecords").click();
		$("#LotRecordsTab").click();
		return false;
	});
	
	$("#AddDocumentsTop").on("click", function(e) {
		$("#AddDocuments").click();
		$("#LotDocumentsTab").click();
		return false;
	});

});

function lotSearch() {

	  	var itemsString = "";
	  	$.each( packagesJSON, function( key, val ) {
		  	if(val.Properties.Type.value === "Construction Lot") {
			  	var updatesAvailableClass = val.UpdatesAvailable.updateCount > 0 ? "package-updates-available" : "package-updates-notavailable";
		    	itemsString += '<tr class="dataRow ng-scope">';
				itemsString += '<td><i class="icon-package"></i><span class="ng-binding">' + val.Properties.PackageNo.value +'</span></td>';
				itemsString += '<td><a href="packageProperties.html?id='+ key +'">' + val.Properties.Title.value +'</a></td>';
				itemsString += '<td><span>' + val.Properties.Revision.value +'</span></td>';
				itemsString += '<td><span>' + val.Properties.Status.value +'</span></td>';				
				itemsString += '<td><span>' + val.Properties.Type.value +'</span></td>';
				itemsString += '<td><span>' + val.Properties.Owners.value +'</span></td>';
				itemsString += '<td class="' + updatesAvailableClass + '"><span>' + val.UpdatesAvailable.value +'</span></td>';
				itemsString += '</tr>';
		  	}		  	
	  	});
	  	$("#rowPerMailTableBody").html(itemsString);
	  	$("#packageResultSummary").html("1 - " + packagesJSON.length + " of " + packagesJSON.length);

}



